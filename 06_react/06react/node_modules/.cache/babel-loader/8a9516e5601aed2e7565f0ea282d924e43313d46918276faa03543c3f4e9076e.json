{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\25R1116\\\\Desktop\\\\study\\\\06_react\\\\06react\\\\src\\\\components\\\\11Hook6CustomHook.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useLocalStorage = (keyName, initVal) => {\n  _s();\n  const key = \"hook:\" + keyName;\n  const value = () => {\n    try {\n      // ローカルストレージから値の取得\n      const item = localStorage.getItem(key);\n      // 文字列データなので、データのオブジェクト化\n      return item ? JSON.parse(item) : initVal;\n    } catch (error) {\n      return initVal;\n    }\n  };\n  const [savedValue, setSavedValue] = useState(value);\n\n  // ローカルストレージに値を登録する\n  const setValue = val => {\n    try {\n      setSavedValue(val);\n      localStorage.setItem(key, JSON.stringify(val));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return [savedValue, setValue];\n};\n_s(useLocalStorage, \"Xz387FCZKdLfnDkdSDKBAeoJ2Fg=\");\nconst Hook5 = () => {\n  _s2();\n  // ローカルストレージ用カスタムフック\n  const [lsData, setLSData] = useLocalStorage('LSData', '');\n  // 現在の画面用のステートフック\n  const [lSText, setLSText] = useState(lsData);\n  const doChangeText = e => {\n    setLSText(e.target.value);\n    setLSData(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: doChangeText,\n      value: lSText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s2(Hook5, \"7CiR+96ygOG2CP214aOQXXiu+oY=\", false, function () {\n  return [useLocalStorage];\n});\n_c = Hook5;\nexport default Hook5;\nvar _c;\n$RefreshReg$(_c, \"Hook5\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","useLocalStorage","keyName","initVal","_s","key","value","item","localStorage","getItem","JSON","parse","error","savedValue","setSavedValue","setValue","val","setItem","stringify","console","log","Hook5","_s2","lsData","setLSData","lSText","setLSText","doChangeText","e","target","children","type","onChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/25R1116/Desktop/study/06_react/06react/src/components/11Hook6CustomHook.tsx"],"sourcesContent":["import { useState } from \"react\"\r\n\r\nconst useLocalStorage = (keyName:string,initVal:string) =>{\r\n    const key = \"hook:\" + keyName\r\n    \r\n    const value = () => {\r\n        try {\r\n            // ローカルストレージから値の取得\r\n            const item = localStorage.getItem(key)\r\n            // 文字列データなので、データのオブジェクト化\r\n            return item ? JSON.parse(item) : initVal\r\n        }catch(error){\r\n            return initVal\r\n        }\r\n    }\r\n    \r\n    const [savedValue,setSavedValue] = useState(value)\r\n    \r\n    // ローカルストレージに値を登録する\r\n    const setValue = (val:string) =>{\r\n        try{\r\n            setSavedValue(val)\r\n            localStorage.setItem(key,JSON.stringify(val))\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return [savedValue,setValue]\r\n}\r\n\r\n\r\nconst Hook5 = () => {\r\n    // ローカルストレージ用カスタムフック\r\n    const [lsData,setLSData] = useLocalStorage('LSData','')\r\n    // 現在の画面用のステートフック\r\n    const [lSText,setLSText] = useState(lsData)\r\n\r\n    const doChangeText = (e:React.ChangeEvent<HTMLInputElement>) =>{\r\n        setLSText(e.target.value)\r\n        setLSData(e.target.value)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <input type=\"text\" onChange={doChangeText} value={lSText}/>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Hook5"],"mappings":";;;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,eAAe,GAAGA,CAACC,OAAc,EAACC,OAAc,KAAI;EAAAC,EAAA;EACtD,MAAMC,GAAG,GAAG,OAAO,GAAGH,OAAO;EAE7B,MAAMI,KAAK,GAAGA,CAAA,KAAM;IAChB,IAAI;MACA;MACA,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAACJ,GAAG,CAAC;MACtC;MACA,OAAOE,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,GAAGJ,OAAO;IAC5C,CAAC,QAAMS,KAAK,EAAC;MACT,OAAOT,OAAO;IAClB;EACJ,CAAC;EAED,MAAM,CAACU,UAAU,EAACC,aAAa,CAAC,GAAGhB,QAAQ,CAACQ,KAAK,CAAC;;EAElD;EACA,MAAMS,QAAQ,GAAIC,GAAU,IAAI;IAC5B,IAAG;MACCF,aAAa,CAACE,GAAG,CAAC;MAClBR,YAAY,CAACS,OAAO,CAACZ,GAAG,EAACK,IAAI,CAACQ,SAAS,CAACF,GAAG,CAAC,CAAC;IACjD,CAAC,QAAMJ,KAAK,EAAC;MACTO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACtB;EACJ,CAAC;EAED,OAAO,CAACC,UAAU,EAACE,QAAQ,CAAC;AAChC,CAAC;AAAAX,EAAA,CA3BKH,eAAe;AA8BrB,MAAMoB,KAAK,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAChB;EACA,MAAM,CAACC,MAAM,EAACC,SAAS,CAAC,GAAGvB,eAAe,CAAC,QAAQ,EAAC,EAAE,CAAC;EACvD;EACA,MAAM,CAACwB,MAAM,EAACC,SAAS,CAAC,GAAG5B,QAAQ,CAACyB,MAAM,CAAC;EAE3C,MAAMI,YAAY,GAAIC,CAAqC,IAAI;IAC3DF,SAAS,CAACE,CAAC,CAACC,MAAM,CAACvB,KAAK,CAAC;IACzBkB,SAAS,CAACI,CAAC,CAACC,MAAM,CAACvB,KAAK,CAAC;EAC7B,CAAC;EAED,oBACIN,OAAA;IAAA8B,QAAA,eACI9B,OAAA;MAAO+B,IAAI,EAAC,MAAM;MAACC,QAAQ,EAAEL,YAAa;MAACrB,KAAK,EAAEmB;IAAO;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAGd,CAAC;AAAAd,GAAA,CAjBKD,KAAK;EAAA,QAEoBpB,eAAe;AAAA;AAAAoC,EAAA,GAFxChB,KAAK;AAmBX,eAAeA,KAAK;AAAA,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}