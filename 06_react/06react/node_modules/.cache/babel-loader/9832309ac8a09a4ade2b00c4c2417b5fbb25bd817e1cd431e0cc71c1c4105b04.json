{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\25R1116\\\\Desktop\\\\study\\\\06_react\\\\06react\\\\src\\\\components\\\\11Hook6CustomHook.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useLocalStorage = (keyName, initVal) => {\n  _s();\n  // 工夫部分 localstorageにはjson形式になっているため、jsonの形式になるように変換している、\n  const key = \"hook:\" + keyName;\n\n  // カスタムフックにvalueという機能を準備している。\n  // 現在の値があれば取得、存在しなければ破棄という処理\n  const value = () => {\n    try {\n      //ローカルstorageから値の取得\n      // 文字データのため、データのオブジェクト化\n      const item = localStorage.getItem(key);\n      return item ? JSON.parse(item) : initVal;\n    } catch (error) {\n      return initVal;\n    }\n  };\n  const [savedValue, setSavedValue] = useState(value);\n\n  // ローカルストレージに値を登録する\n  const setValue = val => {\n    try {\n      setSavedValue(val);\n      // JSONのデータを文字列に変換\n      localStorage.setItem(key, JSON.stringify(val));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return [savedValue, setValue];\n};\n_s(useLocalStorage, \"Xz387FCZKdLfnDkdSDKBAeoJ2Fg=\");\nconst Hook5 = () => {\n  _s2();\n  const [lsData, setLSData] = useLocalStorage('LSData', '');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: () => {\n        setLSData(lsData);\n      },\n      value: lsData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s2(Hook5, \"TxxlcqOWyWSCgARTWh/vmOVkAMM=\", false, function () {\n  return [useLocalStorage];\n});\n_c = Hook5;\nvar _c;\n$RefreshReg$(_c, \"Hook5\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","useLocalStorage","keyName","initVal","_s","key","value","item","localStorage","getItem","JSON","parse","error","savedValue","setSavedValue","setValue","val","setItem","stringify","console","log","Hook5","_s2","lsData","setLSData","children","type","onChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/25R1116/Desktop/study/06_react/06react/src/components/11Hook6CustomHook.tsx"],"sourcesContent":["\r\nimport { useState } from \"react\"\r\n\r\nconst useLocalStorage = (keyName:string,initVal:string) =>{\r\n    // 工夫部分 localstorageにはjson形式になっているため、jsonの形式になるように変換している、\r\n    const key = \"hook:\" + keyName;\r\n    \r\n    \r\n    // カスタムフックにvalueという機能を準備している。\r\n    // 現在の値があれば取得、存在しなければ破棄という処理\r\n    const value = () =>{\r\n        try{\r\n            //ローカルstorageから値の取得\r\n            // 文字データのため、データのオブジェクト化\r\n            const item  = localStorage.getItem(key)\r\n            return item ? JSON.parse(item):initVal\r\n        }catch(error){\r\n            return initVal\r\n\r\n        }\r\n    }\r\n    \r\n    const [savedValue,setSavedValue] = useState(value)\r\n\r\n\r\n    // ローカルストレージに値を登録する\r\n    const setValue = (val:string) =>{\r\n        try{\r\n            setSavedValue(val)\r\n            // JSONのデータを文字列に変換\r\n            localStorage.setItem(key,JSON.stringify(val))\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n    return [savedValue,setValue]\r\n}\r\n\r\nconst Hook5 = () => {\r\n    const [lsData,setLSData] = useLocalStorage('LSData','')\r\n\r\n    return(\r\n        <div>\r\n            <input type =\"text\" onChange={(()=>{setLSData(lsData)})} value={lsData}/>\r\n        </div>\r\n    )\r\n}"],"mappings":";;;AACA,SAASA,QAAQ,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,eAAe,GAAGA,CAACC,OAAc,EAACC,OAAc,KAAI;EAAAC,EAAA;EACtD;EACA,MAAMC,GAAG,GAAG,OAAO,GAAGH,OAAO;;EAG7B;EACA;EACA,MAAMI,KAAK,GAAGA,CAAA,KAAK;IACf,IAAG;MACC;MACA;MACA,MAAMC,IAAI,GAAIC,YAAY,CAACC,OAAO,CAACJ,GAAG,CAAC;MACvC,OAAOE,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,GAACJ,OAAO;IAC1C,CAAC,QAAMS,KAAK,EAAC;MACT,OAAOT,OAAO;IAElB;EACJ,CAAC;EAED,MAAM,CAACU,UAAU,EAACC,aAAa,CAAC,GAAGhB,QAAQ,CAACQ,KAAK,CAAC;;EAGlD;EACA,MAAMS,QAAQ,GAAIC,GAAU,IAAI;IAC5B,IAAG;MACCF,aAAa,CAACE,GAAG,CAAC;MAClB;MACAR,YAAY,CAACS,OAAO,CAACZ,GAAG,EAACK,IAAI,CAACQ,SAAS,CAACF,GAAG,CAAC,CAAC;IACjD,CAAC,QAAMJ,KAAK,EAAC;MACTO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACtB;EACJ,CAAC;EACD,OAAO,CAACC,UAAU,EAACE,QAAQ,CAAC;AAChC,CAAC;AAAAX,EAAA,CAjCKH,eAAe;AAmCrB,MAAMoB,KAAK,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAChB,MAAM,CAACC,MAAM,EAACC,SAAS,CAAC,GAAGvB,eAAe,CAAC,QAAQ,EAAC,EAAE,CAAC;EAEvD,oBACID,OAAA;IAAAyB,QAAA,eACIzB,OAAA;MAAO0B,IAAI,EAAE,MAAM;MAACC,QAAQ,EAAGA,CAAA,KAAI;QAACH,SAAS,CAACD,MAAM,CAAC;MAAA,CAAG;MAACjB,KAAK,EAAEiB;IAAO;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxE,CAAC;AAEd,CAAC;AAAAT,GAAA,CARKD,KAAK;EAAA,QACoBpB,eAAe;AAAA;AAAA+B,EAAA,GADxCX,KAAK;AAAA,IAAAW,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}