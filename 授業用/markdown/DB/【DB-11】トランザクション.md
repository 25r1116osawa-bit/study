# トランザクション

## ロック単位
行レベルなのかテーブル単位なのかで扱いが変わってくる。

- 行レベルの場合は、操作中の行以外は操作可能
- テーブルレベルの場合は、操作中のテーブル以外は操作可能

MariaDBでトランザクションをする場合は、inodbを使う。

- デフォルト：オートコミットモード 
  - SELECT @@autocommit;
  - START TRANSACTION;
  - ROLLBACK;       
  - commit;

上記の手順を実施すればSTRAT TRANSACITIONを実行した直後に戻せる。ROLLBACKの必要がなければ、COMMITをする。

注意点としては、Transactionが不要なクエリを実行すると、暗黙的にコミットされます。



0 オートコミットモードoff

複雑な処理がでてきたら、セーブポイントを使う
