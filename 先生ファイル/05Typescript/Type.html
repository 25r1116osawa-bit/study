<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeScript Types Mastery - Full Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
        }

        pre, code {
            font-family: 'Fira Code', monospace;
        }

        /* 解説カードのスタイル */
        .info-card {
            @apply bg-white p-6 rounded-2xl border border-slate-200 shadow-sm transition-transform duration-200 hover:-translate-y-1 h-full;
        }
        
        /* クイズ選択肢：明確なブロック形式 */
        .quiz-option-block {
            display: block;
            width: 100%;
            text-align: left;
            padding: 1.25rem;
            margin-bottom: 0.75rem;
            background-color: #dbeafe;
            border-left: 8px solid #3b82f6;
            border-radius: 0.75rem;
            font-weight: 700;
            color: #1e293b;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border-top: none;
            border-right: none;
            border-bottom: none;
        }
        
        .quiz-option-block:not(:disabled):hover {
            background-color: #bfdbfe;
            transform: translateX(4px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            cursor: pointer;
        }

        .quiz-option-block:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .feedback-box {
            margin-top: 1rem;
            padding: 1.25rem;
            border-radius: 1rem;
            display: none;
            font-weight: 800;
            border: 2px solid transparent;
        }

        .quiz-container {
            background-color: white;
            padding: 2rem;
            border-radius: 2rem;
            border: 1px solid #e2e8f0;
            margin-bottom: 2.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.02);
        }

        .category-tag {
            @apply px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider mb-2 inline-block;
        }

        /* アンカーリンクのオフセット */
        section { scroll-margin-top: 2rem; }
    </style>
</head>
<body class="text-slate-800 pb-20">

    <!-- Header -->
    <header class="bg-[#3178c6] text-white py-16 px-6 mb-12 shadow-lg text-center">
        <div class="max-w-5xl mx-auto">
            <h1 class="text-4xl md:text-5xl font-black mb-4 tracking-tight">TypeScript 型システム完全マスター</h1>
            <p class="text-blue-100 text-lg md:text-xl font-medium">全16種の型解説 ＆ クイズ 10問付き</p>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-6">

        <!-- 1. 型カテゴリー総まとめ表 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 flex items-center text-slate-900">
                <span class="bg-blue-600 text-white w-10 h-10 rounded-xl flex items-center justify-center mr-4 shadow-lg">01</span>
                型カテゴリー総まとめ
            </h2>
            <div class="overflow-x-auto bg-white rounded-3xl shadow-sm border border-slate-200 p-6">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-slate-50 border-b border-slate-200">
                            <th class="p-4 font-bold text-slate-600">カテゴリー</th>
                            <th class="p-4 font-bold text-slate-600">型名</th>
                            <th class="p-4 font-bold text-slate-600">概要</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr>
                            <td class="p-4 align-top"><span class="text-blue-600 font-black">基本型</span></td>
                            <td class="p-4 font-medium">string, number, boolean, null, undefined</td>
                            <td class="p-4 text-slate-500 italic text-sm">JavaScript標準の値を扱う基礎。</td>
                        </tr>
                        <tr>
                            <td class="p-4 align-top"><span class="text-orange-600 font-black">特殊型</span></td>
                            <td class="p-4 font-medium">any, unknown, never, void</td>
                            <td class="p-4 text-slate-500 italic text-sm">安全性や実行制御のための特殊な定義。</td>
                        </tr>
                        <tr>
                            <td class="p-4 align-top"><span class="text-purple-600 font-black">合成型</span></td>
                            <td class="p-4 font-medium">Union, Intersection, Literal</td>
                            <td class="p-4 text-slate-500 italic text-sm">複数の型を組み合わせたり、値を固定する。</td>
                        </tr>
                        <tr>
                            <td class="p-4 align-top"><span class="text-teal-600 font-black">構造・抽象</span></td>
                            <td class="p-4 font-medium">Interface, Class, Type Alias, Generics</td>
                            <td class="p-4 text-slate-500 italic text-sm">設計図や再利用性のための高度な定義。</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 2. 全型詳細解説 -->
        <section class="mb-20">
            <h2 class="text-3xl font-bold mb-8 flex items-center text-slate-900">
                <span class="bg-blue-600 text-white w-10 h-10 rounded-xl flex items-center justify-center mr-4 shadow-lg">02</span>
                全登場型の徹底解説
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <!-- 基本型 -->
                <div class="info-card border-t-4 border-blue-500">
                    <span class="category-tag bg-blue-100 text-blue-700">基本型</span>
                    <h3 class="text-xl font-bold mb-2">Primitive Types</h3>
                    <p class="text-xs text-slate-600 mb-4">最も頻繁に使用されるJS標準の型です。</p>
                    <ul class="text-xs space-y-1 mb-4 text-slate-700">
                        <li><strong>string:</strong> 文字列</li>
                        <li><strong>number:</strong> 数値（整数・浮動小数）</li>
                        <li><strong>boolean:</strong> 真偽値</li>
                        <li><strong>null / undefined:</strong> 欠損値</li>
                    </ul>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">const</span> s: <span class="text-blue-300">string</span> = "TS";
<span class="text-purple-400">const</span> n: <span class="text-blue-300">number</span> = 100;
<span class="text-purple-400">const</span> b: <span class="text-blue-300">boolean</span> = <span class="text-blue-400">true</span>;</pre>
                </div>

                <!-- any -->
                <div class="info-card border-t-4 border-orange-400">
                    <span class="category-tag bg-orange-100 text-orange-700">特殊型</span>
                    <h3 class="text-xl font-bold mb-2">any</h3>
                    <p class="text-xs text-slate-600 mb-4">型チェックを完全に無効化します。移行期以外は使用を避けるのが原則です。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">let</span> x: <span class="text-orange-300">any</span> = 1;
x = "string"; <span class="text-gray-500">// 何でもOK</span>
x.method(); <span class="text-gray-500">// 実行時に壊れる可能性</span></pre>
                </div>

                <!-- unknown -->
                <div class="info-card border-t-4 border-orange-400">
                    <span class="category-tag bg-orange-100 text-orange-700">特殊型</span>
                    <h3 class="text-xl font-bold mb-2">unknown</h3>
                    <p class="text-xs text-slate-600 mb-4">「中身は不明だが安全」な型。利用前に型判定（型ガード）を強制します。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">let</span> u: <span class="text-orange-300">unknown</span> = "text";
<span class="text-purple-400">if</span> (<span class="text-purple-400">typeof</span> u === "string") {
  u.toUpperCase(); <span class="text-gray-500">// ここなら安全</span>
}</pre>
                </div>

                <!-- void -->
                <div class="info-card border-t-4 border-orange-400">
                    <span class="category-tag bg-orange-100 text-orange-700">特殊型</span>
                    <h3 class="text-xl font-bold mb-2">void</h3>
                    <p class="text-xs text-slate-600 mb-4">関数が「値を返さない」ことを明示します。通常、処理終了後に呼び出し元へ戻ります。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">function</span> sayHi(): <span class="text-orange-300">void</span> {
  console.log("Hi");
}</pre>
                </div>

                <!-- never -->
                <div class="info-card border-t-4 border-orange-400">
                    <span class="category-tag bg-orange-100 text-orange-700">特殊型</span>
                    <h3 class="text-xl font-bold mb-2">never</h3>
                    <p class="text-xs text-slate-600 mb-4">「決して発生しない」状態。例外を投げる関数や、無限ループに使用します。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">function</span> error(): <span class="text-orange-300">never</span> {
  <span class="text-purple-400">throw</span> <span class="text-purple-400">new</span> Error("Fail");
}</pre>
                </div>

                <!-- Union -->
                <div class="info-card border-t-4 border-purple-400">
                    <span class="category-tag bg-purple-100 text-purple-700">合成型</span>
                    <h3 class="text-xl font-bold mb-2">Union (|)</h3>
                    <p class="text-xs text-slate-600 mb-4">「AまたはB」を表します。複数の型を許容したい場合に非常に便利です。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">let</span> id: <span class="text-purple-300">string | number</span>;
id = 101; <span class="text-gray-500">// OK</span>
id = "A01"; <span class="text-gray-500">// OK</span></pre>
                </div>

                <!-- Intersection -->
                <div class="info-card border-t-4 border-purple-400">
                    <span class="category-tag bg-purple-100 text-purple-700">合成型</span>
                    <h3 class="text-xl font-bold mb-2">Intersection (&)</h3>
                    <p class="text-xs text-slate-600 mb-4">「AかつB」。複数の型定義を1つに合体させ、全てのプロパティを必須にします。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">type</span> Person = { name: string };
<span class="text-purple-400">type</span> Staff = Person & { id: number };</pre>
                </div>

                <!-- Literal -->
                <div class="info-card border-t-4 border-purple-400">
                    <span class="category-tag bg-purple-100 text-purple-700">合成型</span>
                    <h3 class="text-xl font-bold mb-2">Literal</h3>
                    <p class="text-xs text-slate-600 mb-4">特定の「値そのもの」を型として扱います。文字列を限定するのに多用されます。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">let</span> state: <span class="text-purple-300">"open" | "closed"</span>;
state = "open"; <span class="text-gray-500">// OK</span>
<span class="text-gray-500">// state = "none"; // Error</span></pre>
                </div>

                <!-- Interface -->
                <div class="info-card border-t-4 border-teal-400">
                    <span class="category-tag bg-teal-100 text-teal-700">構造・抽象</span>
                    <h3 class="text-xl font-bold mb-2">Interface</h3>
                    <p class="text-xs text-slate-600 mb-4">オブジェクトの構造を定義します。「宣言の併合」が可能で、拡張性に優れます。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">interface</span> User {
  name: string;
  age?: number; <span class="text-gray-500">// 任意</span>
}</pre>
                </div>

                <!-- Type Alias -->
                <div class="info-card border-t-4 border-teal-400">
                    <span class="category-tag bg-teal-100 text-teal-700">構造・抽象</span>
                    <h3 class="text-xl font-bold mb-2">Type Alias</h3>
                    <p class="text-xs text-slate-600 mb-4">型に別名をつけます。Union型やタプル型など、Interfaceで表現できない型も扱えます。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">type</span> Point = { x: number; y: number };
<span class="text-purple-400">type</span> Callback = () => void;</pre>
                </div>

                <!-- Class -->
                <div class="info-card border-t-4 border-teal-400">
                    <span class="category-tag bg-teal-100 text-teal-700">構造・抽象</span>
                    <h3 class="text-xl font-bold mb-2">Class</h3>
                    <p class="text-xs text-slate-600 mb-4">JSのクラスに型情報を付与。アクセス修飾子（private等）でカプセル化が可能です。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">class</span> Robot {
  <span class="text-purple-400">private</span> id: number;
  <span class="text-purple-400">constructor</span>() { <span class="text-purple-400">this</span>.id = 1; }
}</pre>
                </div>

                <!-- Generics -->
                <div class="info-card border-t-4 border-teal-400">
                    <span class="category-tag bg-teal-100 text-teal-700">構造・抽象</span>
                    <h3 class="text-xl font-bold mb-2">Generics (&lt;T&gt;)</h3>
                    <p class="text-xs text-slate-600 mb-4">型を引数として受け取ります。コンポーネントや関数の汎用性を極限まで高めます。</p>
                    <pre class="bg-slate-900 text-slate-300 p-3 rounded-lg text-[10px]">
<span class="text-purple-400">function</span> identity&lt;<span class="text-blue-300">T</span>&gt;(arg: <span class="text-blue-300">T</span>): <span class="text-blue-300">T</span> {
  <span class="text-purple-400">return</span> arg;
}</pre>
                </div>
            </div>
        </section>

        <!-- 3. クイズパート -->
        <section id="quiz-section">
            <h2 class="text-3xl font-bold mb-8 flex items-center text-slate-900">
                <span class="bg-green-600 text-white w-10 h-10 rounded-xl flex items-center justify-center mr-4 shadow-lg">03</span>
                実力テスト 10問
            </h2>

            <div class="space-y-4">
                
                <!-- Q1 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q1. 型安全性を壊すため、極力避けるべき「究極のゆるい型」は？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'unknown はチェックを強制するため安全です。')">unknown</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！any は TS の恩恵を無効化するため、使用は最小限に。')">any</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'void は戻り値がないことを示します。')">void</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'never は到達不能を示します。')">never</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q2 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q2. 使用前に確認が必要な「安全な any」と呼ばれる型は？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'any は確認なしで何でもできてしまいます。')">any</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！unknown は利用前に型ガードが必須です。')">unknown</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'object は非プリミティブ全体を指します。')">object</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'void は戻り値なしを示します。')">void</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q3 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q3. 例外を投げる関数のように、決して終了しない関数の戻り値型は？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'void は関数が正常に終了して「何もない」を返す意味です。')">void</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！never は出口に到達しないことを意味します。')">never</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'undefined は値です。')">undefined</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'any は何でもありの型です。')">any</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q4 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q4. A | B のように、複数の型のいずれかであることを許可する型は？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！Union（共用体）型です。')">Union 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Intersection 型は & です。')">Intersection 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Tuple 型は固定長配列です。')">Tuple 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Literal 型は特定の値そのものです。')">Literal 型</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q5 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q5. 複数の型をすべて満足させる合体型 A & B は？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Union 型は | です。')">Union 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！Intersection（交差）型です。')">Intersection 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Alias は別名の定義です。')">Alias</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Generic は抽象化です。')">Generic</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q6 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q6. 型をパラメータ化して再利用性を高める仕組みは？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！Generics（ジェネリクス）です。')">Generics</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Interface は構造定義です。')">Interface</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Class は実体を持つ設計図です。')">Class</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Enum は定数セットです。')">Enum</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q7 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q7. 同名の定義を複数回書くと合体する「宣言の併合」ができるのは？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Type Alias は重複定義できません。')">Type Alias</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！Interface は自動的に併合されます。')">Interface</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Class は重複できません。')">Class</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Literal は値です。')">Literal</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q8 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q8. オブジェクトのプロパティを「再代入禁止」にする修飾子は？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！readonly 修飾子です。')">readonly</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'private はアクセス制限です。')">private</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'static は静的プロパティです。')">static</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'const は変数宣言です。')">const</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q9 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q9. type Status = "success"; のように値を型とするのは？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！Literal（リテラル）型です。')">Literal 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'String 型は全ての文字列です。')">String 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Union 型は | で繋いだものです。')">Union 型</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'Enum 型はキーワードが必要です。')">Enum 型</button>
                    <div class="feedback-box"></div>
                </div>

                <!-- Q10 -->
                <div class="quiz-container">
                    <h3 class="text-xl font-bold mb-6">Q10. クラスのプロパティを「そのクラス内からのみ」アクセス可能にするのは？</h3>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'protected は継承先からも見えます。')">protected</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, true, '正解！private 修飾子です。')">private</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'public はどこからでも見えます。')">public</button>
                    <button class="quiz-option-block" onclick="handleQuiz(this, false, 'internal という修飾子はありません。')">internal</button>
                    <div class="feedback-box"></div>
                </div>

            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-slate-400 text-sm mt-20 pt-8 pb-10 border-t border-slate-200">
            <p>© 2025 TypeScript Mastery Course.</p>
        </footer>

    </main>

    <script>
        function handleQuiz(button, isCorrect, feedbackMessage) {
            const container = button.closest('.quiz-container');
            const options = container.querySelectorAll('.quiz-option-block');
            const feedback = container.querySelector('.feedback-box');

            options.forEach(opt => {
                opt.disabled = true;
                opt.style.opacity = "0.4";
            });
            button.style.opacity = "1";

            feedback.style.display = 'block';
            feedback.innerText = feedbackMessage;

            if (isCorrect) {
                feedback.style.backgroundColor = '#dcfce7';
                feedback.style.color = '#166534';
                feedback.style.borderColor = '#86efac';
                button.style.backgroundColor = '#22c55e';
                button.style.color = 'white';
                button.style.borderLeftColor = '#15803d';
                button.innerHTML = '✅ ' + button.innerHTML;
            } else {
                feedback.style.backgroundColor = '#fee2e2';
                feedback.style.color = '#991b1b';
                feedback.style.borderColor = '#fca5a5';
                button.style.backgroundColor = '#ef4444';
                button.style.color = 'white';
                button.style.borderLeftColor = '#b91c1c';
                button.innerHTML = '❌ ' + button.innerHTML;
            }
        }
    </script>
</body>
</html>